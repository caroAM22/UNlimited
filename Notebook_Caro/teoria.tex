\section{Teoría y miscelánea}

\subsection{Sumatorias}
\begin{multicols}{2}
\begin{itemize}
    \item $\sum_{i=1}^{n} i^2 = \frac{n(n+1)(2n+1)}{6}$
    \item $\sum_{i=1}^{n} i^3 = \left(\frac{n(n+1)}{2}\right)^2$
    \item $\sum_{i=1}^{n} i^4 = \frac{n(n+1)(2n+1)(3n^2+3n-1)}{30}$
    \item $\sum_{i=1}^{n} i^5 = \frac{(n(n+1))^2(2n^2+2n-1)}{12}$
    \item $\sum_{i=0}^{n} x^i = \frac{x^{n+1}-1}{x-1}$ para $x \neq 1$
\end{itemize}
\end{multicols}

\subsection{Teoría de Grafos}
\subsubsection{Teorema de Euler}
En un grafo conectado planar, se cumple que $V - E + F = 2$, donde $V$ es el número de vértices, $E$ es el número de aristas y $F$ es el número de caras.
Para varios componentes la formula es: $V - E + F = 1 + C$, siendo C el número de componentes.

\subsubsection{Planaridad de Grafos}
Un grafo es planar si y solo si no contiene un subgrafo homeomorfo a $K_5$ (grafo completo con 5 vértices) ni a $K_{3,3}$ (grafo bipartito completo con 3 vértices en cada conjunto).

\subsubsection{Truco del Cow Game}
Dadas restricciones de la forma:
\[
x_a - x_b \leq d
\]
podemos transformar cada desigualdad en una arista dirigida:
\[
b \to a \quad \text{con peso } d
\]
Luego, ejecutando un algoritmo de camino más corto desde un nodo inicial \(s\), obtenemos:
\[
\text{dist}[i] = \max(x_i - x_s)
\]
\textbf{Nota:} Pueden aparecer pesos negativos, por lo que se debe usar Bellman-Ford o SPFA, no Dijkstra.

\subsection{Teoría de Números}
\subsubsection{Ecuaciones Diofánticas Lineales}
Una ecuación diofántica lineal es una ecuación en la que se buscan soluciones enteras $x$ e $y$ que satisfagan la relación lineal $ax + by = c$, donde $a$, $b$ y $c$ son constantes dadas.

Para encontrar soluciones enteras positivas en una ecuación diofántica lineal, podemos seguir el siguiente proceso:

1. Encontrar una solución particular: Encuentra una solución particular $(x_0, y_0)$ de la ecuación. Esto puede hacerse utilizando el algoritmo de Euclides extendido.

2. Encontrar la solución general: Una vez que tengas una solución particular, puedes obtener la solución general utilizando la fórmula:
\[ x = x_0 + \frac{b}{\text{mcd}(a, b)} \cdot t \]
\[ y = y_0 - \frac{a}{\text{mcd}(a, b)} \cdot t \]
donde $t$ es un parámetro entero.

3. Restringir a soluciones positivas: Si deseas soluciones positivas, asegúrate de que las soluciones generales satisfagan $x \geq 0$ y $y \geq 0$. Puedes ajustar el valor de $t$ para cumplir con estas restricciones.

\subsubsection{Pequeño Teorema de Fermat}
Si $p$ es un número primo y $a$ es un entero no divisible por $p$, entonces $a^{p-1} \equiv 1 \pmod{p}$.

\subsubsection{Teorema de Euler}
Para cualquier número entero positivo $n$ y un entero $a$ coprimo con $n$, se cumple que $a^{\phi(n)} \equiv 1 \pmod{n}$, donde $\phi(n)$ es la función phi de Euler, que representa la cantidad de enteros positivos menores que $n$ y coprimos con $n$.

\subsection{Geometría}

\subsubsection{Teorema de Pick}

Sea un poligono simple cuyos vertices tienen coordenadas enteras. Si B es el numero de puntos enteros en el borde, I el numero de puntos enteros en el interior del poligono, entonces el area A del poligono se puede calcular con la formula:

\[ A = I + \frac{B}{2} - 1 \]

\subsubsection{Fórmula de Herón}

Si los lados del triángulo tienen longitudes \(a\), \(b\) y \(c\), y \(s\) es el semiperímetro (es decir, \(s = \frac{a + b + c}{2}\)), entonces el área \(A\) del triángulo está dada por:

\[ A = \sqrt{s(s - a)(s - b)(s - c)} \]

\subsubsection{Relación de Existencia Triangular}

Para un triángulo con lados de longitud \(a\), \(b\), y \(c\), la relación de existencia triangular se expresa como:

\[ b - c < a < b + c, \quad a - c < b < a + c, \quad a - b < c < a + b \]

\subsection{Combinatoria}
\subsubsection{Permutaciones}
El número de permutaciones de $n$ objetos distintos tomados de a $r$ a la vez (sin repetición) se denota como $P(n, r)$ y se calcula mediante:
\[ P(n, r) = \frac{n!}{(n - r)!} \]

\subsubsection{Combinaciones}
El número de combinaciones de $n$ objetos distintos tomados de a $r$ a la vez (sin repetición) se denota como $C(n, r)$ o $\binom{n}{r}$ y se calcula mediante:
\[ C(n, r) = \binom{n}{r} = \frac{n!}{r!(n - r)!} \]

\subsubsection{Permutaciones con Repetición}
El número de permutaciones de $n$ objetos tomando en cuenta repeticiones se denota como $P_{\text{rep}}(n; n_1, n_2, \ldots, n_k)$ y se calcula mediante:
\[ P_{\text{rep}}(n; n_1, n_2, \ldots, n_k) = \frac{n!}{n_1!n_2!\cdots n_k!} \]

\subsubsection{Combinaciones con Repetición}
El número de combinaciones de $n$ objetos tomando en cuenta repeticiones se denota como $C_{\text{rep}}(n; n_1, n_2, \ldots, n_k)$ y se calcula mediante:
\[ C_{\text{rep}}(n; n_1, n_2, \ldots, n_k) = \binom{n + k - 1}{n} = \binom{n + k - 1}{k - 1} \]

\subsubsection{Números de Catalan}
\[ C_n = \frac{1}{n+1} \binom{2n}{n} \]
Los números de Catalan también pueden calcularse utilizando la siguiente fórmula recursiva:
\[ C_0 = 1 \]
\[ C_{n+1} = \frac{4n+2}{n+2} C_n \]
Usos:
\begin{itemize}
    \item  Cat($n$) cuenta el número de árboles binarios distintos con $n$ vértices.

    \item  Cat($n$) cuenta el número de expresiones que contienen $n$ pares de paréntesis correctamente emparejados.

    \item  Cat($n$) cuenta el número de formas diferentes en que se pueden colocar $n+1$ factores entre paréntesis, por ejemplo, para $n=3$ y $3+1=4$ factores: ${a, b, c, d}$, tenemos: $(ab)(cd), a(b(cd)), ((ab)c)d$ y $a((bc)d)$.
    
    \item  Los números de Catalan cuentan la cantidad de caminos no cruzados en una rejilla $n$ x $n$ que se pueden trazar desde una esquina de un cuadrado o rectángulo a la esquina opuesta, moviéndose solo hacia arriba y hacia la derecha.
    
    \item  Los números de Catalan representan el número de árboles binarios completos con $n+1$ hojas.
    
    \item  Cat($n$) cuenta el número de formas en que se puede triangular un poligono convexo de $n+2$ lados. Otra forma de decirlo es como la cantidad de formas de dividir un polígono convexo en triángulos utilizando diagonales no cruzadas.
    
\end{itemize}

\subsubsection{Estrellas y barras}

Número de soluciones de la ecuación \(x_1 + x_2 + \dots + x_k = n\).

\begin{itemize}
    \item Con \(x_i \ge 0\): \(\binom{n+k-1}{n}\)
    \item Con \(x_i \ge 1\): \(\binom{n-1}{k-1}\)
\end{itemize}

Número de sumas de enteros con límite inferior:

Esto se puede extender fácilmente a sumas de enteros con diferentes límites inferiores. Es decir, queremos contar el número de soluciones para la ecuación:

\[
x_1 + x_2 + \dots + x_k = n
\]

con \(x_i \ge a_i\).

Después de sustituir \(x_i' := x_i - a_i\) recibimos la ecuación modificada:

\[
(x_1' + a_i) + (x_2' + a_i) + \dots + (x_k' + a_k) = n
\]

\[
\Leftrightarrow \quad x_1' + x_2' + \dots + x_k' = n - a_1 - a_2 - \dots - a_k
\]

con \(x_i' \ge 0\). Así que hemos reducido el problema al caso más simple con \(x_i' \ge 0\) y nuevamente podemos aplicar el teorema de estrellas y barras.

\subsection{DP Optimization Theory}
\begin{tabular}{|p{0.8cm}| p{4.5cm}| p{3.3cm}|p{0.9cm}| p{1.3cm}|}
	\hline
	Name & Original Recurrence & Sufficient Condition & From  & To  \\ 
	\hline
	CH 1 & $dp[i] = min_{j<i}\{dp[j]+b[j]*a[i ]\}$ & $b[j] \geq b[j+1]$ Optionally $a[i] \leq a[i+1]$ & $O(n^2)$ & $O(n)$ \\ 
	\hline
	CH 2 & $dp[i][j] = min_{k<j}\{dp[i-1][k] + b[k] * a[j]\}$ & $b[k] \geq b[k+1]$ Optionally $a[j] \leq a[j+1]$ & $O(kn^2)$ & $O(kn)$ \\ 
	\hline
	D\&Q & $dp[i][j] = min_{k<j}\{dp[i-1][k] + C[k][j]\}$ & $A[i][j] \leq A[i][j+1]$ & $O(kn^2)$ & $O(kn\log n)$ \\ 
	\hline
	Knuth & $dp[i][j] = min_{i<k<j} \{dp[i][k] + dp[k][j] \} + C[i][j] $ & $A[i, j -1] \leq A[i, j] \leq A[i+1, j]$ & $O(n^3)$ & $O(n^2)$ \\ 
	\hline
\end{tabular} 
Notes:
\begin{itemize}
	\item $A[i][j]$ - the smallest k that gives the optimal answer, for example in $dp[i][j] = dp[i-1][k] + C[k][j]$
	\item $C[i][j]$ - some given cost function
	\item We can generalize a bit in the following way $dp[i] = \min_{j<i}\{F[j]+b[j] * a[i]\}$, where $F[j]$ is computed from $dp[j]$ in constant time
\end{itemize}

\subsection{Lista de números con mayor cantidad de divisores hasta $10^n$}
\begin{center}
\begin{tabular}{|c|l|c|}
\hline
$n$ & Número & \# divisores \\ \hline
1  & $6$                      & $4$     \\ \hline
2  & $60$                     & $12$    \\ \hline
3  & $840$                    & $32$    \\ \hline
4  & $7560$                   & $64$    \\ \hline
5  & $83160$                  & $128$   \\ \hline
6  & $720720$                 & $240$   \\ \hline
7  & $8648640$                & $448$   \\ \hline
8  & $73513440$               & $768$   \\ \hline
9  & $735134400$              & $1344$  \\ \hline
10 & $6983776800$             & $2304$  \\ \hline
11 & $97772875200$            & $4032$  \\ \hline
12 & $963761198400$           & $6720$  \\ \hline
13 & $9316358251200$          & $10752$ \\ \hline
14 & $97821761637600$         & $17280$ \\ \hline
15 & $866421317361600$        & $26880$ \\ \hline
16 & $8086598962041600$       & $41472$ \\ \hline
17 & $74801040398884800$      & $64512$ \\ \hline
18 & $897612484786617600$     & $103680$\\ \hline
\end{tabular}
\end{center}

\subsection{Games}

\Topic{Grundy numbers}.
For a two-player, normal-play (last to move wins) game on a graph $(V,E)$:
$G(x) = \mbox{mex}(\{ G(y) : (x, y) \in E \})$,
where $\mbox{mex}(S) = \min \{ n \ge 0: n \not\in S \}$.
$x$ is losing iff $G(x) = 0$.

\Topic{Sums of games}.

\vspace{-4mm}
\begin{itemize}
  \item
    \emph{Player chooses a game and makes a move in it}.
    Grundy number of a position is xor of grundy numbers of positions in summed games.
  \item
    \emph{Player chooses a non-empty subset of games (possibly, all) and makes moves in all of them}.
    A position is losing iff each game is in a losing position.
  \item
    \emph{Player chooses a proper subset of games (not empty and not all),
        and makes moves in all chosen ones.}
    A position is losing iff grundy numbers of all games are equal.
  \item
    \emph{Player must move in all games, and loses if can't move in some game}.
    A position is losing if any of the games is in a losing position.
\end{itemize}
% http://www.topcoder.com/tc?module=Static&d1=tutorials&d2=algorithmGames

\vspace{-3mm}

\Topic{Mis\`{e}re Nim}.
A position with pile sizes $a_1, a_2, \dots, a_n \ge 1$,
not all equal to $1$, is losing iff $a_1 \oplus a_2 \oplus \dots \oplus a_n = 0$
(like in normal nim.)
A position with $n$ piles of size $1$ is losing iff $n$ is \emph{odd}.


\subsection{2-SAT}
\Topic{2-SAT} Rules \\
$ p \rightarrow q \equiv \lnot p \lor q$ \\
$ p \rightarrow q \equiv \lnot q \rightarrow \lnot p$ \\
$ p \lor q \equiv \lnot p \rightarrow q$ 	\\
$ p \land q \equiv \lnot (p \rightarrow \lnot q)$	 \\
$ \lnot (p \rightarrow q) \equiv p \land \lnot q$ \\
$ (p \rightarrow q) \land (p \rightarrow r) \equiv p \rightarrow (q \land r)$ \\
$ (p \rightarrow q) \lor (p \rightarrow r) \equiv p \rightarrow (q \lor r)$ \\
$ (p \rightarrow r) \land (q \rightarrow r) \equiv (p \land q) \rightarrow r$ \\
$ (p \rightarrow r) \lor (q \rightarrow r) \equiv (p \lor q) \rightarrow r$ \\
$(p \land q) \lor (r \land s) \equiv (p \lor r) \land (p \lor s) \land (q \lor r) \land (q \lor s)$ \\